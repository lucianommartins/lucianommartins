name: Metrics

on:
  # Run this workflow automatically every 4 hours
  schedule:
    - cron: "0 */4 * * *"
  # Allow manual runs from the Actions tab
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # Use the Personal Access Token (PAT) stored in secrets
          token: ${{ secrets.METRICS_TOKEN }}
          
          # The filename for the output SVG
          filename: github-metrics.svg
          
          # Get metrics for your own user account
          user: lucianommartins
          
          # Use the classic template
          template: classic
          
          # Set the base to user-level sections for a full user-wide analysis
          base: header, activity, community

          # === PLUGIN CONFIGURATION FOR A FULL USER OVERVIEW ===
          
          plugin_isocalendar: yes
          plugin_lines: yes
          # Languages disabled - using 3D contrib graph instead (better representation)
          plugin_languages: no
          plugin_people: yes
          plugin_people_types: followers
          
          # === CODING HABITS (shows when you code most) ===
          plugin_habits: yes
          plugin_habits_from: 200       # Analyze last 200 events
          plugin_habits_days: 14        # Last 14 days
          plugin_habits_charts: yes     # Show charts
          plugin_habits_charts_type: chartist
          plugin_habits_trim: yes
          
          # === RANDOM CODE SNIPPET (shows code from your repos) ===
          plugin_code: yes
          plugin_code_lines: 12         # Number of lines to show
          plugin_code_load: 400         # Events to load
          plugin_code_visibility: public
          plugin_code_skipped: lucianommartins  # Skip profile repo
          plugin_code_languages: python, javascript, typescript, go, c, cpp
          
          # Configure timezone for accurate stats
          config_timezone: America/Sao_Paulo
